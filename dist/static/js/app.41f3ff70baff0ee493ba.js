webpackJsonp([1],{"3+QP":function(t,e){},"C+Ae":function(t,e){},Fe8I:function(t,e){},KBZJ:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNFQjJEMjkyRTc5ODExRTJCMDVBQURGRjkzRDhDQzk5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNFQjJEMjkzRTc5ODExRTJCMDVBQURGRjkzRDhDQzk5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTU0NjY0RkZFNzk4MTFFMkIwNUFBREZGOTNEOENDOTkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTU0NjY1MDBFNzk4MTFFMkIwNUFBREZGOTNEOENDOTkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4BWooyAAAD6ElEQVR42uSbTUwTQRiGv1Y5IASoGrUxbbipVEtVgopE0RsSNagJBxNivXGX3kwk6kXlqhyMUhLjQYMGUr1JE7UqBivGqsQLgRg0ovxIgfBjfT87lVpoS+nudnf7Jk8oZcP26czuzM6PIRQKkUwpALtBKdgCLMAs3s8TxwTBOPgKBkAf6AU94n3JY5BYmIWOgyNgJ1i1wv8zD/zgEegEX9QmvBc0gMNpSCaSfwJawItMC1eARrCHlMkrcBX4lBbeCM6DE5SZtIOL4JsSwkfFt1xAmc24qF2dcgnngAvASerKbdAEZqQUzge3QCWpMy/BWTAqhfA6cAfYSd35AOrAj3SE+Tq9B3aQNvIenErUaTEmuWZvakiWs1185pyVCDep+JpNlErx2VMS5qbnDGk3/NmPLfca3gS8KmhnpWinD4GhZCV8WQeykRvupWRVej+oJv2kOvY+FCvcSPrLuXjC/IhXrkPhcuG2SLiB9JuG2Lv0evAGrNap8BzYBYYjJVyrY1kSbrXRVbqG9J+aSJXm9ipA0o9FqS08NmbjEi7LAlkSjmVGhZ6G1jQ3N2/w+Xxr+bUgEynlKt0Sr6MtpbDBYCjkF1VVVdTW1ha0WCxz4m+TCgp3cAlblPyKvV4vWa3WPKfTWTg9PW1QuLQtRvF0pHhaW1vJbDYXoLTzFKzmZq7Sn2lhrkf2Kr1UiouLyePxTJWUlMzIXMUnjArIJk1/fz/ZbLZcSOfKfKp8o1raDIfDQXa7fVbm08yycDCTokVFReR2u+f8fv9Y1J1brgSNJNM87HLicrlCQ0ND4/X19UFx7crdRE1wp5ono81KinJb3N7ePmEymeYVboe/cwkPKnU2vhsHAoGprq6usQzIcga5hD8p0NOigYGBTPWuotPHwu8UONEkZNXQGPRm5eMh36V7suDx8O/KoEjHw5MFwp7IiAf/zLpBvGEKzyfpNV7h+N+49HUdC/9zixbmdRLdOpTtFm6LhDnXdCjcHP1LrPAz8FhHsuzyNPqNpSbE+UGii7JoQpwPcOmgdF2xsvGEOR3ArWFZt3BYlETrtHjpz10Kr5jVUviOzAvUZlMV5pjAfbBNI7IfKbwwbSTeAckG8UbEtxXQiGxdItnlCEe6nbwu+rmKZXnh+MlI9zFdYc4vcJrCS3XVllZRsqPLOVjLC8S5EHiFTkoLxFcyEM8nOAgeZFD2ITiQquxKSzg6FaKBV2q502twJZ37iVTbePbRwjYeqadvflN4G88NUsE2nthspvCQL2/UclB6G7XeUnijFveYVLdRa6lEb8XbCqyAlzzwtGlkLpjHp8fATwpvxeMxclm34v0RYABIrimf5DTYWwAAAABJRU5ErkJggg=="},MoLD:function(t,e){t.exports={_args:[["hydrogen-js-sdk@1.6.3","H:\\Empty-mountain-front"]],_from:"hydrogen-js-sdk@1.6.3",_id:"hydrogen-js-sdk@1.6.3",_inBundle:!1,_integrity:"sha512-VwV3sc0yNNUgj9cJVt1oCttHCkcnR2NtlDB51w0Hcoh7OB67uEekNxLyWIEeJux1g7Xh4ckk/TsgrsFQGev4Eg==",_location:"/hydrogen-js-sdk",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"hydrogen-js-sdk@1.6.3",name:"hydrogen-js-sdk",escapedName:"hydrogen-js-sdk",rawSpec:"1.6.3",saveSpec:null,fetchSpec:"1.6.3"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/hydrogen-js-sdk/-/hydrogen-js-sdk-1.6.3.tgz",_spec:"1.6.3",_where:"H:\\Empty-mountain-front",author:{name:"Bmob"},bugs:{url:"https://github.com/bmob/hydrogen-js-sdk/issues"},dependencies:{axios:"^0.18.0","node.extend":"^2.0.0",webpack:"^3.12.0"},description:"Bmob SDK",devDependencies:{"clean-webpack-plugin":"^0.1.19",eslint:"^4.19.1","eslint-config-standard":"^11.0.0","eslint-friendly-formatter":"^4.0.1","eslint-loader":"^2.0.0","eslint-plugin-import":"^2.12.0","eslint-plugin-node":"^6.0.1","eslint-plugin-promise":"^3.7.0","eslint-plugin-standard":"^3.1.0","html-webpack-plugin":"^2.30.1","uglifyjs-webpack-plugin":"^1.2.5","webpack-dev-server":"^2.11.2"},directories:{doc:"docs"},homepage:"https://github.com/bmob/hydrogen-js-sdk#readme",keywords:["Bmob"],license:"ISC",main:"./src/lib/app.js",name:"hydrogen-js-sdk",repository:{type:"git",url:"git+https://github.com/bmob/hydrogen-js-sdk.git"},scripts:{build:"webpack --config config/prod.env.js",dev:"webpack-dev-server --config config/dev.env.js",test:'echo "Error: no test specified" && exit 1',watch:"webpack --watch --config config/prod.env.js"},version:"1.6.3"}},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"header"},[n("span",{staticClass:"logo"},[t._v("行者空山")]),t._v(" "),n("ul",[n("router-link",{attrs:{to:"/"}},[n("li",{class:{current:"index"==t.$route.name}},[t._v("文章")])]),t._v(" "),n("router-link",{attrs:{to:"/voicelist"}},[n("li",{class:{current:"voicelist"==t.$route.name}},[t._v("声音")])]),t._v(" "),n("router-link",{attrs:{to:"/about"}},[n("li",{class:{current:"about"==t.$route.name}},[t._v("关于")])])],1)])])},staticRenderFns:[]};var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"footer"},[e("div",{staticClass:"content"},[this._v("\n          Powered By Zack.\n      ")])])])}]};var o={name:"App",components:{Top:n("VU/8")({name:"index"},s,!1,function(t){n("beKj")},"data-v-57bf6b11",null).exports,Bottom:n("VU/8")({name:"index"},a,!1,function(t){n("C+Ae")},"data-v-42f52b7e",null).exports}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Top"),this._v(" "),e("keep-alive",[this.$route.meta.keepAlive?e("router-view"):this._e()],1),this._v(" "),this.$route.meta.keepAlive?this._e():e("router-view"),this._v(" "),e("Bottom")],1)},staticRenderFns:[]};var c=n("VU/8")(o,r,!1,function(t){n("Fe8I")},null,null).exports,l=n("/ocq"),u=n("BO1k"),d=n.n(u),v=n("ogWm");v.initialize("818f8d7565f7588990922e937dd3e7c8","baeecb59d59023ea9a71db006def599a");var m={};m.instance=v,m.login=function(t,e){return v.User.login(t,e)},m.randomArticle=function(){return m.countArticles().then(function(t){var e=Math.random(),n=Math.floor(e*t),i=v.Query("Articles");return i.skip(n),i.limit(1),i.find()})},m.randomBg=function(){return m.countImgs().then(function(t){var e=Math.random(),n=Math.floor(e*t),i=v.Query("Imgs");return i.skip(n),i.limit(1),i.find()})},m.queryArticleToDay=function(){var t=v.Query("Articles");return t.order("-updatedAt"),t.limit(1),t.find()},m.getComments=function(t){var e=v.Query("comments");return e.equalTo("articleId","==",t),e.find()},m.addComments=function(t){var e=v.Query("comments");e.set("content",t.content);var n=v.Pointer("Articles").set(t.objectId);return e.set("articleId",n),e.save()},m.queryArticleByPage=function(t){var e=v.Query("Articles");return e.order("-updatedAt"),e.limit(10),e.skip(10*(t-1)),e.find()},m.countArticles=function(){return v.Query("Articles").count()},m.countImgs=function(){return v.Query("Imgs").count()},m.addArticle=function(t){var e=v.Query("Articles");return e.set("title",t.title),e.set("img",t.img_url),e.set("author",t.author),e.set("content",t.content),e.save()},m.changeArticle=function(t,e){var n=v.Query("Articles");return n.set("id",t),n.set("title",e.title),n.set("img",e.img_url),n.set("author",e.author),n.set("content",e.content),n.save()},m.delArticle=function(t){return v.Query("Articles").destroy(t)},m.saveFile=function(t){var e=void 0,n=!0,i=!1,s=void 0;try{for(var a,o=d()(t);!(n=(a=o.next()).done);n=!0){var r=a.value;e=v.File(r.name,r)}}catch(t){i=!0,s=t}finally{try{!n&&o.return&&o.return()}finally{if(i)throw s}}return e.save()},m.queryVoiceByPage=function(t){},m.queryVoiceByPage=function(t){var e=v.Query("Voices");return e.order("-updatedAt"),e.limit(9),e.skip(9*(t-1)),e.find()},m.countVoices=function(){return v.Query("Voices").count()};var h=m,p={name:"index",data:function(){return{title:"",author:"",content:"",imgurl:"",showComment:!1,comments:[],article:{}}},created:function(){var t=this;h.queryArticleToDay().then(function(e){return t.updateArticle(e[0]),h.getComments(e[0].objectId)}).then(function(e){t.comments=e}).catch(function(t){console.log(t)}),h.randomBg().then(function(e){t.imgurl=e[0].imgurl}).catch(function(t){console.log(t)})},methods:{random:function(){var t=this;h.randomArticle().then(function(e){return t.updateArticle(e[0]),h.getComments(e[0].objectId)}).then(function(e){t.comments=e}).catch(function(t){console.log(t)}),h.randomBg().then(function(e){t.imgurl=e[0].imgurl}).catch(function(t){console.log(t)})},submit:function(){var t=this,e=this.$refs.input.value;if(""!==e){var n={};n.objectId=this.article.objectId,n.content=e,h.addComments(n).then(function(e){console.log(e),t.comments.push({content:t.$refs.input.value,createdAt:e.createdAt}),alert("提交成功!"),t.$refs.input.value=""}).catch(function(t){console.log(t)})}else alert("写点什么吧!")},showComments:function(){this.showComment=!this.showComment},updateArticle:function(t){this.article=t,this.title=t.title,this.author=t.author;var e=t.content;e="<p>"+(e=e.replace(/\n/g,"</p><p>"))+"</p>",this.content=e,this.toTop()},toTop:function(){var t=setInterval(function(){document.body.scrollTop||document.documentElement.scrollTop?(document.body.scrollTop-=100,document.documentElement.scrollTop-=100):clearInterval(t)},10)}},computed:{bgUrl:function(){return"url("+this.imgurl+")"}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"body",style:{backgroundImage:t.bgUrl}}),t._v(" "),n("div",{staticClass:"wrapper",staticStyle:{padding:"40px 0px"}},[n("div",{staticClass:"container"},[n("div",{staticClass:"article_show"},[n("h1",{staticClass:"aricle_title"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"aricle_author"},[t._v(t._s(t.author))]),t._v(" "),n("div",{staticClass:"article_content",domProps:{innerHTML:t._s(t.content)}}),t._v(" "),n("div",{staticClass:"btns"},[n("div",{staticClass:"button",on:{click:t.random}},[t._v("随机一篇")]),t._v(" "),n("div",{staticClass:"button",on:{click:t.showComments}},[t._v(t._s(t.showComment?"收起评论":"展开评论"))])]),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showComment,expression:"showComment"}],staticClass:"comments"},[n("span",{staticClass:"title"},[t._v("评论列表")]),t._v(" "),t._l(t.comments,function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",[n("span",{staticClass:"name"},[t._v("匿名")]),n("span",{staticClass:"date"},[t._v(t._s(e.createdAt))])]),t._v(" "),n("p",{staticClass:"content"},[t._v(t._s(e.content))])])}),t._v(" "),n("textarea",{ref:"input"}),t._v(" "),n("div",{staticClass:"wrapper",staticStyle:{width:"100%","text-align":"center"}},[n("div",{staticClass:"button",on:{click:t.submit}},[t._v("评论")])])],2)])],1)])])])},staticRenderFns:[]};var f=n("VU/8")(p,g,!1,function(t){n("3+QP")},"data-v-76a5cf59",null).exports,b={name:"pagination",data:function(){return{nowPage:1,noPre:!1,noNext:!1}},props:{total:{type:Number,required:!0},pagesize:{type:Number,default:9},pagenumber:{type:Number,default:5}},methods:{changePage:function(t){this.nowPage=t,this.$emit("pageChanged",this.nowPage)},pre:function(){var t=1==this.nowPage?this.nowPage:this.nowPage-1;this.changePage(t)},next:function(){var t=this.nowPage==this.total?this.total:this.nowPage+1;this.changePage(t)},first:function(){this.changePage(1)}},computed:{page:function(){var t=this.total/this.pagesize^0;t=this.total%this.pagesize==0?t:t+1,this.totalPage=t;var e=[];e.push(this.nowPage);for(var n=t>this.pagenumber?this.pagenumber:this.totalPage,i=Math.ceil(n/2),s=n%2==0?i-1:i,a=i,o=0;o<s;o++){var r=e[0]-1;if(0==r)break;e.unshift(r)}for(var c=0;c<a;c++){var l=e[e.length-1]+1;if(l==t+1)break;e.push(l)}return e}}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination"},[n("ul",[n("li",{directives:[{name:"show",rawName:"v-show",value:1!=t.nowPage,expression:"nowPage!=1"}],staticClass:"first",on:{click:t.first}},[t._v("首页")]),t._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:t.noPre,expression:"noPre"}],staticClass:"pre",on:{click:t.pre}},[t._v(" < ")]),t._v(" "),t._l(t.page,function(e){return n("li",{key:e,class:{current:t.nowPage==e},on:{click:function(n){t.changePage(e)}}},[t._v(t._s(e))])}),t._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:t.noNext,expression:"noNext"}],staticClass:"next",on:{click:t.next}},[t._v(" > ")])],2)])},staticRenderFns:[]};var _={name:"voicelist",components:{pagination:n("VU/8")(b,A,!1,function(t){n("jnQZ")},"data-v-43b52722",null).exports},data:function(){return{datalist:[],total:0,nowPage:1}},methods:{pageChange:function(t){this.nowPage=t,this.getData(this.nowPage)},getData:function(t){var e=this;h.queryVoiceByPage(t).then(function(t){e.datalist=t,console.log(t)})},getTotal:function(){var t=this;h.countVoices().then(function(e){t.total=e})},play:function(t){this.$router.push({name:"voiceplay",params:t})}},created:function(){this.getData(this.nowPage),this.getTotal()}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"voice-wrapper"},[n("div",{staticClass:"list w"},[n("h3",{staticClass:"list-title"},[t._v("声音作品")]),t._v(" "),t._l(t.datalist,function(e,i){return n("div",{key:i,staticClass:"item",on:{click:function(n){t.play(e)}}},[n("img",{staticClass:"item-pic",attrs:{src:e.imgurl}}),t._v(" "),n("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),t._v(" "),n("p",{staticClass:"item-author"},[t._v(t._s(e.author))]),t._v(" "),t._m(0,!0)])})],2),t._v(" "),n("div",{staticClass:"pagation w"},[n("pagination",{attrs:{total:t.total},on:{pageChanged:t.pageChange}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"play-btn"},[e("img",{attrs:{src:n("KBZJ")}})])}]};var w=n("VU/8")(_,y,!1,function(t){n("ffO8")},"data-v-6bf1e5ca",null).exports,k={data:function(){return{item:{}}},created:function(){console.log(this.$route),this.item=this.$route.params}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"play-wrapper",style:{backgroundImage:"url("+t.item.imgurl+")"}},[n("div",{staticClass:"play-box"},[n("h1",[t._v(t._s(t.item.title))]),t._v(" "),n("h2",[t._v(t._s(t.item.author))]),t._v(" "),n("div",[n("audio",{attrs:{src:t.item.voiceurl,controls:""}})]),t._v(" "),n("span",{staticClass:"btn",on:{click:function(e){t.$router.go(-1)}}},[t._v("返回列表")])])])},staticRenderFns:[]};var j=n("VU/8")(k,C,!1,function(t){n("iAOf")},"data-v-78235ae8",null).exports,N={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"about"},[e("div",{staticClass:"container"},[e("h1",[this._v("关于")]),this._v(" "),e("p",[this._v("来自一个简单而遥远的梦想。")]),this._v(" "),e("p",[this._v("文章全部手工筛选，尽量每日一更。")]),this._v(" "),e("p",[this._v("如果你有不错的文章，欢迎投稿。")])])])}]};var E=n("VU/8")({name:"voicelist",data:function(){return{msg:"Welcome to Your Vue.js App"}}},N,!1,function(t){n("w+0h")},"data-v-79fe1f0e",null).exports;i.a.use(l.a);var I=new l.a({routes:[{path:"/",name:"index",component:f,meta:{keepAlive:!0}},{path:"/voicelist",name:"voicelist",component:w,meta:{keepAlive:!0}},{path:"/about",name:"about",component:E,meta:{keepAlive:!0}},{path:"/voiceplay",name:"voiceplay",component:j}]}),P=n("NYxO");i.a.use(P.a);var B=new P.a.Store({state:{},mutations:{}});i.a.config.productionTip=!1,new i.a({el:"#app",router:I,store:B,components:{App:c},template:"<App/>"})},beKj:function(t,e){},ffO8:function(t,e){},iAOf:function(t,e){},jnQZ:function(t,e){},"w+0h":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.41f3ff70baff0ee493ba.js.map