webpackJsonp([1],{"0/BU":function(t,e){},"C+Ae":function(t,e){},I8yJ:function(t,e){},Lb1F:function(t,e){},MoLD:function(t,e){t.exports={_args:[["hydrogen-js-sdk@1.6.3","F:\\dk\\person\\my-vue-template"]],_from:"hydrogen-js-sdk@1.6.3",_id:"hydrogen-js-sdk@1.6.3",_inBundle:!1,_integrity:"sha512-VwV3sc0yNNUgj9cJVt1oCttHCkcnR2NtlDB51w0Hcoh7OB67uEekNxLyWIEeJux1g7Xh4ckk/TsgrsFQGev4Eg==",_location:"/hydrogen-js-sdk",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"hydrogen-js-sdk@1.6.3",name:"hydrogen-js-sdk",escapedName:"hydrogen-js-sdk",rawSpec:"1.6.3",saveSpec:null,fetchSpec:"1.6.3"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/hydrogen-js-sdk/-/hydrogen-js-sdk-1.6.3.tgz",_spec:"1.6.3",_where:"F:\\dk\\person\\my-vue-template",author:{name:"Bmob"},bugs:{url:"https://github.com/bmob/hydrogen-js-sdk/issues"},dependencies:{axios:"^0.18.0","node.extend":"^2.0.0",webpack:"^3.12.0"},description:"Bmob SDK",devDependencies:{"clean-webpack-plugin":"^0.1.19",eslint:"^4.19.1","eslint-config-standard":"^11.0.0","eslint-friendly-formatter":"^4.0.1","eslint-loader":"^2.0.0","eslint-plugin-import":"^2.12.0","eslint-plugin-node":"^6.0.1","eslint-plugin-promise":"^3.7.0","eslint-plugin-standard":"^3.1.0","html-webpack-plugin":"^2.30.1","uglifyjs-webpack-plugin":"^1.2.5","webpack-dev-server":"^2.11.2"},directories:{doc:"docs"},homepage:"https://github.com/bmob/hydrogen-js-sdk#readme",keywords:["Bmob"],license:"ISC",main:"./src/lib/app.js",name:"hydrogen-js-sdk",repository:{type:"git",url:"git+https://github.com/bmob/hydrogen-js-sdk.git"},scripts:{build:"webpack --config config/prod.env.js",dev:"webpack-dev-server --config config/dev.env.js",test:'echo "Error: no test specified" && exit 1',watch:"webpack --watch --config config/prod.env.js"},version:"1.6.3"}},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"header"},[n("span",{staticClass:"logo"},[t._v("行者空山")]),t._v(" "),n("ul",[n("router-link",{attrs:{to:"/"}},[n("li",{class:{current:"index"==t.$route.name}},[t._v("文章")])]),t._v(" "),n("router-link",{attrs:{to:"/voicelist"}},[n("li",{class:{current:"voicelist"==t.$route.name}},[t._v("声音")])]),t._v(" "),n("router-link",{attrs:{to:"/about"}},[n("li",{class:{current:"about"==t.$route.name}},[t._v("关于")])])],1)])])},staticRenderFns:[]};var o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"footer"},[e("div",{staticClass:"content"},[this._v("\n          Powered By Zack.\n      ")])])])}]};var i={name:"App",components:{Top:n("VU/8")({name:"index"},r,!1,function(t){n("beKj")},"data-v-57bf6b11",null).exports,Bottom:n("VU/8")({name:"index"},o,!1,function(t){n("C+Ae")},"data-v-42f52b7e",null).exports}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Top"),this._v(" "),e("keep-alive",[e("router-view")],1),this._v(" "),e("Bottom")],1)},staticRenderFns:[]};var c=n("VU/8")(i,a,!1,function(t){n("I8yJ")},null,null).exports,l=n("/ocq"),u=n("BO1k"),d=n.n(u),m=n("ogWm");m.initialize("818f8d7565f7588990922e937dd3e7c8","baeecb59d59023ea9a71db006def599a");var v={};v.instance=m,v.login=function(t,e){return m.User.login(t,e)},v.randomArticle=function(){return v.countArticles().then(function(t){var e=Math.random(),n=Math.floor(e*t),s=m.Query("Articles");return s.skip(n),s.limit(1),s.find()})},v.queryArticleToDay=function(){var t=m.Query("Articles");return t.order("-updatedAt"),t.limit(1),t.find()},v.getComments=function(t){var e=m.Query("comments");return e.equalTo("articleId","==",t),e.find()},v.addComments=function(t){var e=m.Query("comments");e.set("content",t.content);var n=m.Pointer("Articles").set(t.objectId);return e.set("articleId",n),e.save()},v.queryArticleByPage=function(t){var e=m.Query("Articles");return e.order("-updatedAt"),e.limit(10),e.skip(10*(t-1)),e.find()},v.countArticles=function(){return m.Query("Articles").count()},v.addArticle=function(t){var e=m.Query("Articles");return e.set("title",t.title),e.set("img",t.img_url),e.set("author",t.author),e.set("content",t.content),e.save()},v.changeArticle=function(t,e){var n=m.Query("Articles");return n.set("id",t),n.set("title",e.title),n.set("img",e.img_url),n.set("author",e.author),n.set("content",e.content),n.save()},v.delArticle=function(t){return m.Query("Articles").destroy(t)},v.saveFile=function(t){var e=void 0,n=!0,s=!1,r=void 0;try{for(var o,i=d()(t);!(n=(o=i.next()).done);n=!0){var a=o.value;e=m.File(a.name,a)}}catch(t){s=!0,r=t}finally{try{!n&&i.return&&i.return()}finally{if(s)throw r}}return e.save()};var p=v,h={name:"index",data:function(){return{title:"",author:"",content:"",imgurl:"",showComment:!1,comments:[],article:{}}},created:function(){var t=this;p.queryArticleToDay().then(function(e){return t.updateArticle(e[0]),p.getComments(e[0].objectId)}).then(function(e){t.comments=e}).catch(function(t){console.log(t)})},methods:{random:function(){var t=this;p.randomArticle().then(function(e){return t.updateArticle(e[0]),p.getComments(e[0].objectId)}).then(function(e){t.comments=e}).catch(function(t){console.log(t)})},submit:function(){var t=this,e=this.$refs.input.value;if(""!==e){var n={};n.objectId=this.article.objectId,n.content=e,p.addComments(n).then(function(e){console.log(e),t.comments.push({content:t.$refs.input.value,createdAt:e.createdAt}),alert("提交成功!"),t.$refs.input.value=""}).catch(function(t){console.log(t)})}else alert("写点什么吧!")},showComments:function(){this.showComment=!this.showComment},updateArticle:function(t){this.article=t,this.title=t.title,this.author=t.author,this.imgurl=t.img;var e=t.content;e="<p>"+(e=e.replace(/\n/g,"</p><p>"))+"</p>",this.content=e,this.toTop()},toTop:function(){var t=setInterval(function(){document.body.scrollTop||document.documentElement.scrollTop?(document.body.scrollTop-=100,document.documentElement.scrollTop-=100):clearInterval(t)},10)}},computed:{bgUrl:function(){return"url("+this.imgurl+")"}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"body",style:{backgroundImage:t.bgUrl}}),t._v(" "),n("div",{staticClass:"wrapper",staticStyle:{padding:"40px 0px"}},[n("div",{staticClass:"container"},[n("div",{staticClass:"article_show"},[n("h1",{staticClass:"aricle_title"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"aricle_author"},[t._v(t._s(t.author))]),t._v(" "),n("div",{staticClass:"article_content",domProps:{innerHTML:t._s(t.content)}}),t._v(" "),n("div",{staticClass:"btns"},[n("div",{staticClass:"button",on:{click:t.random}},[t._v("随机一篇")]),t._v(" "),n("div",{staticClass:"button",on:{click:t.showComments}},[t._v(t._s(t.showComment?"收起评论":"展开评论"))])]),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showComment,expression:"showComment"}],staticClass:"comments"},[n("span",{staticClass:"title"},[t._v("评论列表")]),t._v(" "),t._l(t.comments,function(e,s){return n("div",{key:s,staticClass:"item"},[n("div",[n("span",{staticClass:"name"},[t._v("匿名")]),n("span",{staticClass:"date"},[t._v(t._s(e.createdAt))])]),t._v(" "),n("p",{staticClass:"content"},[t._v(t._s(e.content))])])}),t._v(" "),n("textarea",{ref:"input"}),t._v(" "),n("div",{staticClass:"wrapper",staticStyle:{width:"100%","text-align":"center"}},[n("div",{staticClass:"button",on:{click:t.submit}},[t._v("评论")])])],2)])],1)])])])},staticRenderFns:[]};var g=n("VU/8")(h,f,!1,function(t){n("Lb1F")},"data-v-2b3fa200",null).exports,_={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"hello"},[this._v("\n    努力开发中。。。\n")])},staticRenderFns:[]};var b=n("VU/8")({name:"voicelist",data:function(){return{msg:"Welcome to Your Vue.js App"}}},_,!1,function(t){n("0/BU")},"data-v-155835a9",null).exports,y={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"about"},[e("div",{staticClass:"container"},[e("h1",[this._v("关于")]),this._v(" "),e("p",[this._v("来自一个简单而遥远的梦想。")]),this._v(" "),e("p",[this._v("文章全部手工筛选，尽量每日一更。")]),this._v(" "),e("p",[this._v("如果你有不错的文章，欢迎投稿。")])])])}]};var k=n("VU/8")({name:"voicelist",data:function(){return{msg:"Welcome to Your Vue.js App"}}},y,!1,function(t){n("URxo")},"data-v-73373e32",null).exports;s.a.use(l.a);var C=new l.a({routes:[{path:"/",name:"index",component:g},{path:"/voicelist",name:"voicelist",component:b},{path:"/about",name:"about",component:k}]}),w=n("NYxO");s.a.use(w.a);var j=new w.a.Store({state:{count:1},mutations:{add:function(t){t.count+=1},reduce:function(t){t.count-=1}}}),A=n("//Fk"),x=n.n(A),E=n("mtWM"),I=n.n(E).a.create({baseURL:"http://65.49.209.21/api",timeout:15e3,headers:{"Content-Type":"application/json"}});I.interceptors.request.use(function(t){return localStorage.token&&(t.headers.Authorization=localStorage.token),t},function(t){return x.a.reject(t)}),I.interceptors.response.use(function(t){return x.a.resolve(t)},function(t){return console.log(t),x.a.reject(t)});var T={install:function(t,e){Object.defineProperty(t.prototype,"$http",{value:I})}};s.a.config.productionTip=!1,s.a.use(T),C.beforeEach(function(t,e,n){!localStorage.getItem("token")&&["child"].indexOf(t.name)>-1&&console.log(t.name+"need token"),n()}),new s.a({el:"#app",router:C,store:j,components:{App:c},template:"<App/>"})},URxo:function(t,e){},beKj:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.26861569ebd87cd012ad.js.map